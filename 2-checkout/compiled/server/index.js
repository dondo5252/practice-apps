"use strict";

require("dotenv").config();

var express = require("express");

var path = require("path");

var sessionHandler = require("./middleware/session-handler");

var logger = require("./middleware/logger"); // Establishes connection to the database on server start


var db = require("./db");

var app = express(); // Adds `req.session_id` based on the incoming cookie value.
// Generates a new session if one does not exist.

app.use(sessionHandler); // Logs the time, session_id, method, and url of incoming requests.

app.use(logger); // Serves up all static and generated assets in ../client/dist.

app.use(express["static"](path.join(__dirname, "../client/dist"))); ///Insert
//Update
//Delete

/****
 *
 *
 * Other routes here....
 *
 *
 */
//

app.listen(process.env.PORT);
console.log("Listening at http://localhost:".concat(process.env.PORT));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZXF1aXJlIiwiY29uZmlnIiwiZXhwcmVzcyIsInBhdGgiLCJzZXNzaW9uSGFuZGxlciIsImxvZ2dlciIsImRiIiwiYXBwIiwidXNlIiwiam9pbiIsIl9fZGlybmFtZSIsImxpc3RlbiIsInByb2Nlc3MiLCJlbnYiLCJQT1JUIiwiY29uc29sZSIsImxvZyJdLCJzb3VyY2VzIjpbIi4uLy4uL3NlcnZlci9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKFwiZG90ZW52XCIpLmNvbmZpZygpO1xuY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpO1xuY29uc3Qgc2Vzc2lvbkhhbmRsZXIgPSByZXF1aXJlKFwiLi9taWRkbGV3YXJlL3Nlc3Npb24taGFuZGxlclwiKTtcbmNvbnN0IGxvZ2dlciA9IHJlcXVpcmUoXCIuL21pZGRsZXdhcmUvbG9nZ2VyXCIpO1xuXG4vLyBFc3RhYmxpc2hlcyBjb25uZWN0aW9uIHRvIHRoZSBkYXRhYmFzZSBvbiBzZXJ2ZXIgc3RhcnRcbmNvbnN0IGRiID0gcmVxdWlyZShcIi4vZGJcIik7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcblxuLy8gQWRkcyBgcmVxLnNlc3Npb25faWRgIGJhc2VkIG9uIHRoZSBpbmNvbWluZyBjb29raWUgdmFsdWUuXG4vLyBHZW5lcmF0ZXMgYSBuZXcgc2Vzc2lvbiBpZiBvbmUgZG9lcyBub3QgZXhpc3QuXG5hcHAudXNlKHNlc3Npb25IYW5kbGVyKTtcblxuLy8gTG9ncyB0aGUgdGltZSwgc2Vzc2lvbl9pZCwgbWV0aG9kLCBhbmQgdXJsIG9mIGluY29taW5nIHJlcXVlc3RzLlxuYXBwLnVzZShsb2dnZXIpO1xuXG4vLyBTZXJ2ZXMgdXAgYWxsIHN0YXRpYyBhbmQgZ2VuZXJhdGVkIGFzc2V0cyBpbiAuLi9jbGllbnQvZGlzdC5cbmFwcC51c2UoZXhwcmVzcy5zdGF0aWMocGF0aC5qb2luKF9fZGlybmFtZSwgXCIuLi9jbGllbnQvZGlzdFwiKSkpO1xuXG5cbi8vL0luc2VydFxuXG5cbi8vVXBkYXRlXG5cblxuLy9EZWxldGVcblxuXG4vKioqKlxuICpcbiAqXG4gKiBPdGhlciByb3V0ZXMgaGVyZS4uLi5cbiAqXG4gKlxuICovLy9cblxuYXBwLmxpc3Rlbihwcm9jZXNzLmVudi5QT1JUKTtcbmNvbnNvbGUubG9nKGBMaXN0ZW5pbmcgYXQgaHR0cDovL2xvY2FsaG9zdDoke3Byb2Nlc3MuZW52LlBPUlR9YCk7XG4iXSwibWFwcGluZ3MiOiI7O0FBQUFBLE9BQU8sQ0FBQyxRQUFELENBQVAsQ0FBa0JDLE1BQWxCOztBQUNBLElBQU1DLE9BQU8sR0FBR0YsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBQ0EsSUFBTUcsSUFBSSxHQUFHSCxPQUFPLENBQUMsTUFBRCxDQUFwQjs7QUFDQSxJQUFNSSxjQUFjLEdBQUdKLE9BQU8sQ0FBQyw4QkFBRCxDQUE5Qjs7QUFDQSxJQUFNSyxNQUFNLEdBQUdMLE9BQU8sQ0FBQyxxQkFBRCxDQUF0QixDLENBRUE7OztBQUNBLElBQU1NLEVBQUUsR0FBR04sT0FBTyxDQUFDLE1BQUQsQ0FBbEI7O0FBRUEsSUFBTU8sR0FBRyxHQUFHTCxPQUFPLEVBQW5CLEMsQ0FFQTtBQUNBOztBQUNBSyxHQUFHLENBQUNDLEdBQUosQ0FBUUosY0FBUixFLENBRUE7O0FBQ0FHLEdBQUcsQ0FBQ0MsR0FBSixDQUFRSCxNQUFSLEUsQ0FFQTs7QUFDQUUsR0FBRyxDQUFDQyxHQUFKLENBQVFOLE9BQU8sVUFBUCxDQUFlQyxJQUFJLENBQUNNLElBQUwsQ0FBVUMsU0FBVixFQUFxQixnQkFBckIsQ0FBZixDQUFSLEUsQ0FHQTtBQUdBO0FBR0E7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBRzs7QUFFSEgsR0FBRyxDQUFDSSxNQUFKLENBQVdDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxJQUF2QjtBQUNBQyxPQUFPLENBQUNDLEdBQVIseUNBQTZDSixPQUFPLENBQUNDLEdBQVIsQ0FBWUMsSUFBekQifQ==